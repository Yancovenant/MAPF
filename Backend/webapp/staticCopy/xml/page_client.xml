<style>
    .route-form label { font-weight: bold; }
    .route-form input { font-family: monospace; }
</style>
<div class="container-fluid">
    <div class="row">
        <h2>Client Route Editor</h2>
        <p>Edit and send agent routes to Unity.</p>
        <form id="routeForm" class="route-form">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="AUGV_1">AUGV_1</label>
                    <input type="text" class="form-control" name="AUGV_1" id="AUGV_1" value='["Warehouse_1", "Warehouse_12", "Warehouse_7", "AUGV_1_Loadingspot"]'>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="AUGV_2">AUGV_2</label>
                    <input type="text" class="form-control" name="AUGV_2" id="AUGV_2" value='["Warehouse_5", "Warehouse_12", "Warehouse_8", "AUGV_2_Loadingspot"]'>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="AUGV_3">AUGV_3</label>
                    <input type="text" class="form-control" name="AUGV_3" id="AUGV_3" value='["Warehouse_3", "Warehouse_10", "AUGV_3_Loadingspot"]'>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="AUGV_4">AUGV_4</label>
                    <input type="text" class="form-control" name="AUGV_4" id="AUGV_4" value='["Warehouse_2", "Warehouse_11", "Warehouse_6", "AUGV_4_Loadingspot"]'>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="AUGV_5">AUGV_5</label>
                    <input type="text" class="form-control" name="AUGV_5" id="AUGV_5" value='["Warehouse_4", "AUGV_5_Loadingspot"]'>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Send Routes to Unity</button>
        </form>
        <div id="routeStatus" class="mt-3"></div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script>
$('#routeForm').on('submit', function(e){
    e.preventDefault();
    let data={action:'route',data:{}};
    $('#routeForm input').each(function(){
        let k=$(this).attr('name');
        try{data.data[k]=JSON.parse($(this).val());}catch{data.data[k]=[];}
    });
    $.ajax({
        url:'/send-routes',
        method:'POST',
        contentType:'application/json',
        data:JSON.stringify(data),
        success:function(res){$('#routeStatus').html('<div class=\'alert alert-success\'>Routes sent!</div>');},
        error:function(xhr){$('#routeStatus').html('<div class=\'alert alert-danger\'>Failed: '+xhr.responseText+'</div>');}
    });
});
</script> 